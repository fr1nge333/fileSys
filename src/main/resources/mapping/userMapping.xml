<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.lhs.filesys.mapper.UserMapper">
    <insert id="createUser" parameterType="cn.lhs.filesys.entity.User">
        INSERT INTO user (  userId,   userName,   password,   createTime,   authority)
                    VALUES (#{userId},#{userName},#{password},#{createTime},#{authority});
    </insert>
    <select id="checkUser" parameterType="java.util.Map" resultType="cn.lhs.filesys.entity.User">
        SELECT * FROM user WHERE userId=#{userId} AND password=#{password};
    </select>

    <select id="isUserExist" parameterType="java.lang.String" resultType="java.lang.Integer">
        SELECT COUNT(userId) FROM user WHERE userId=#{userId};
    </select>

    <update id="modifyUserName" parameterType="java.util.Map" >
        UPDATE user SET userName=#{userName} WHERE userId=#{userId};
    </update>

    <update id="modifyPassword" parameterType="java.util.Map">
        UPDATE user SET password={password} WHERE userId=#{userId};
    </update>

    <select id="getUserPoint" parameterType="java.lang.String" resultType="java.lang.Integer">
        SELECT point FROM user WHERE userId=#{userId};
    </select>

    <update id="modifyUserPoint" parameterType="java.util.Map">
        UPDATE user SET point=#{point} WHERE userId=#{userId};
    </update>

    <update id="pointPlusAndMinus" parameterType="java.util.Map">
        UPDATE user SET point=point + #{points} WHERE userId=#{userId};
    </update>
</mapper>